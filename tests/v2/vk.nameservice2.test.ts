import { describe, expect, it } from "@jest/globals";
import { NFTContractV2, NameContractV2 } from "../../src/contract-v2/nft";
import { initBlockchain } from "../../src/mina";
import { blockchain } from "../../src";
import fs from "fs/promises";

const chain: blockchain = "devnet" as blockchain;

describe(`Deploy MinaNFT Name Service contract`, () => {
  it(`should get verification key`, async () => {
    await initBlockchain(chain);
    const verificationKey = (await NFTContractV2.compile()).verificationKey;
    const vkName = (await NameContractV2.compile()).verificationKey;
    const json: any = {};
    json[chain] = {
      hash: verificationKey.hash.toJSON(),
      data: verificationKey.data,
      nameHash: vkName.hash.toJSON(),
    };
    await fs.writeFile(
      `./json/vk.${chain}.json`,
      JSON.stringify(json, null, 2)
    );
  });
});

/*
{
    "devnet": {
    "hash": "7154660428962879799032771457629385674044679139139241681837510101137040270497",
    "data": "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",
    "nameHash": "11768534966534209692788188400681161458219890197998458562027429558067614858886"
  },
    "mainnet": {
    "hash": "7154660428962879799032771457629385674044679139139241681837510101137040270497",
    "data": "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",
    "nameHash": "21995177539597142923096648188664781886352415478469061732544487760985492943628"
  }
}
*/
